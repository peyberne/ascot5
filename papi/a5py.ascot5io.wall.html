<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>wall &mdash; ASCOT5 5.5 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=b689823a"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="neutral" href="a5py.ascot5io.neutral.html" />
    <link rel="prev" title="marker" href="a5py.ascot5io.marker.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Running Simulations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html#simulations">Simulations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Processing Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../processing.html">Data storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing.html#input-generation">Input generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing.html#post-processing">Post-processing</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Simulating Physics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../teaching.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teaching.html#physics-in-ascot5">Physics in ASCOT5</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../publishing.html">Citing ASCOT5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publishing.html#gallery">Gallery</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developing.html">Coding style and practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing.html#parallelization">Parallelization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing.html#testing">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developing.html#id2">C API</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="a5py.html">Python API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="a5py.html#module-a5py"><code class="docutils literal notranslate"><span class="pre">a5py</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="a5py.ascot5io.html"><code class="docutils literal notranslate"><span class="pre">ascot5io</span></code></a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.bfield.html"><code class="docutils literal notranslate"><span class="pre">bfield</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.efield.html"><code class="docutils literal notranslate"><span class="pre">efield</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.plasma.html"><code class="docutils literal notranslate"><span class="pre">plasma</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.marker.html"><code class="docutils literal notranslate"><span class="pre">marker</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">wall</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D"><code class="docutils literal notranslate"><span class="pre">wall_2D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.getwallcontour"><code class="docutils literal notranslate"><span class="pre">wall_2D.getwallcontour()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.read"><code class="docutils literal notranslate"><span class="pre">wall_2D.read()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.write_hdf5"><code class="docutils literal notranslate"><span class="pre">wall_2D.write_hdf5()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.write_hdf5_dummy"><code class="docutils literal notranslate"><span class="pre">wall_2D.write_hdf5_dummy()</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D"><code class="docutils literal notranslate"><span class="pre">wall_3D</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.append"><code class="docutils literal notranslate"><span class="pre">wall_3D.append()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.convert_wall_2D"><code class="docutils literal notranslate"><span class="pre">wall_3D.convert_wall_2D()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.getwallcontour"><code class="docutils literal notranslate"><span class="pre">wall_3D.getwallcontour()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.move_component"><code class="docutils literal notranslate"><span class="pre">wall_3D.move_component()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.noderepresentation"><code class="docutils literal notranslate"><span class="pre">wall_3D.noderepresentation()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.read"><code class="docutils literal notranslate"><span class="pre">wall_3D.read()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.remove_small_triangles"><code class="docutils literal notranslate"><span class="pre">wall_3D.remove_small_triangles()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.set_flags"><code class="docutils literal notranslate"><span class="pre">wall_3D.set_flags()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.write_hdf5"><code class="docutils literal notranslate"><span class="pre">wall_3D.write_hdf5()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.write_hdf5_dummy"><code class="docutils literal notranslate"><span class="pre">wall_3D.write_hdf5_dummy()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.neutral.html"><code class="docutils literal notranslate"><span class="pre">neutral</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.boozer.html"><code class="docutils literal notranslate"><span class="pre">boozer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.mhd.html"><code class="docutils literal notranslate"><span class="pre">mhd</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.nbi.html"><code class="docutils literal notranslate"><span class="pre">nbi</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.options.html"><code class="docutils literal notranslate"><span class="pre">options</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.coreio.html"><code class="docutils literal notranslate"><span class="pre">CoreIO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.html#a5py.ascot5io.Ascot5IO"><code class="docutils literal notranslate"><span class="pre">Ascot5IO</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.html#a5py.ascot5io.RunGroup"><code class="docutils literal notranslate"><span class="pre">RunGroup</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="a5py.ascot5io.html#a5py.ascot5io.InputGroup"><code class="docutils literal notranslate"><span class="pre">InputGroup</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="a5py.ascotpy.html"><code class="docutils literal notranslate"><span class="pre">ascotpy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.templates.html"><code class="docutils literal notranslate"><span class="pre">templates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.physlib.html"><code class="docutils literal notranslate"><span class="pre">physlib</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.routines.html"><code class="docutils literal notranslate"><span class="pre">routines</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.gui.html"><code class="docutils literal notranslate"><span class="pre">a5py.gui</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.html#a5py.exceptions.AscotIOException"><code class="docutils literal notranslate"><span class="pre">AscotIOException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.html#a5py.exceptions.AscotInitException"><code class="docutils literal notranslate"><span class="pre">AscotInitException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.html#a5py.exceptions.AscotNoDataException"><code class="docutils literal notranslate"><span class="pre">AscotNoDataException</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="a5py.html#a5py.exceptions.AscotUnitWarning"><code class="docutils literal notranslate"><span class="pre">AscotUnitWarning</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="a5py.html#ascot"><code class="docutils literal notranslate"><span class="pre">Ascot</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ASCOT5</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="a5py.html">Python API</a></li>
          <li class="breadcrumb-item"><a href="a5py.ascot5io.html"><code class="docutils literal notranslate"><span class="pre">ascot5io</span></code></a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">wall</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/papi/a5py.ascot5io.wall.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-a5py.ascot5io.wall">
<span id="wall"></span><h1><code class="docutils literal notranslate"><span class="pre">wall</span></code><a class="headerlink" href="#module-a5py.ascot5io.wall" title="Link to this heading"></a></h1>
<p>Input representing first wall and other plasma facing components.</p>
<p>Wall input is used in simulations to check intersections between a marker
trajectory and physical components like first wall of fast-ion-loss detector.
It is also used in BBNBI5 to estimate shinethrough and in ASCOT-BMC.</p>
<p>Wall models can also be used to mimic LCFS to catch markers that escape plasma.
This could prove more detailed information than just using the MAXRHO end
condition.</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D" title="a5py.ascot5io.wall.wall_2D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">a5py.ascot5io.wall.wall_2D</span></code></a></p></td>
<td><p>Contour in Rz-plane that represents an axisymmetric wall.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#a5py.ascot5io.wall.wall_3D" title="a5py.ascot5io.wall.wall_3D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">a5py.ascot5io.wall.wall_3D</span></code></a></p></td>
<td><p>Triangle mesh that represents a 3D wall.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_2D">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a5py.ascot5io.wall.</span></span><span class="sig-name descname"><span class="pre">wall_2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_2D" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="a5py.ascot5io.coreio.html#a5py.ascot5io.coreio.treedata.DataGroup" title="a5py.ascot5io.coreio.treedata.DataGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataGroup</span></code></a></p>
<p>Contour in Rz-plane that represents an axisymmetric wall.</p>
<p>This wall is simple and fast in simulations, but it does not allow
evaluation of wall loads. For those, use 3D wall instead.</p>
<p>The wall doesn’t have to form a closed loop but it prevents markers
from escaping the computational domain.</p>
<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_2D.getwallcontour">
<span class="sig-name descname"><span class="pre">getwallcontour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">unyt_quantity(0,</span> <span class="pre">'degree')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_2D.getwallcontour" title="Link to this definition"></a></dt>
<dd><p>Return a cross section of the wall with a given poloidal plane.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></span></dt><dd><p>Toroidal angle of the plane.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lines</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (n,2,2)</span></dt><dd><p>Line segments [[[r1,z1], [r2,z2]], …] that form the cross section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_2D.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_2D.read" title="Link to this definition"></a></dt>
<dd><p>Read data from HDF5 file.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Data read from HDF5 stored in the same format as is passed to
<a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.write_hdf5" title="a5py.ascot5io.wall.wall_2D.write_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write_hdf5()</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_2D.write_hdf5">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nelements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_2D.write_hdf5" title="Link to this definition"></a></dt>
<dd><p>Write input data to the HDF5 file.</p>
<p>First vertex shouldn’t correspond to the last vertex, i.e., don’t give
(R,z) coordinates that make a closed loop.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>fn</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Full path to the HDF5 file.</p>
</dd>
<dt><strong>nelements</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>Number of wall segments.</p>
</dd>
<dt><strong>r</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,1)</span></dt><dd><p>R coordinates of wall segment vertices [m].</p>
</dd>
<dt><strong>z</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,1)</span></dt><dd><p>z coordinates of wall segment vertices [m].</p>
</dd>
<dt><strong>desc</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>Input description.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>name</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name, i.e. “&lt;type&gt;_&lt;qid&gt;”, of the new input that was written.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a></dt><dd><p>If the input is inconsistent.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_2D.write_hdf5_dummy">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_hdf5_dummy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_2D.write_hdf5_dummy" title="Link to this definition"></a></dt>
<dd><p>Write dummy data that has correct format and is valid, but can be
non-sensical.</p>
<p>This method is intended for testing purposes or to provide data whose
presence is needed but which is not actually used in simulation.</p>
<p>The dummy output is a very large rectangular wall.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>fn</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Full path to the HDF5 file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>name</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name, i.e. “&lt;type&gt;_&lt;qid&gt;”, of the new input that was written.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">a5py.ascot5io.wall.</span></span><span class="sig-name descname"><span class="pre">wall_3D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">root</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D" title="Link to this definition"></a></dt>
<dd><p>Triangle mesh that represents a 3D wall.</p>
<p>This wall model can be obtained easily from a STEP file or from a CAD model
with a little effort. If 3D model of the wall is not available, consider
using the mock-up 3D wall generated by “rotating” the 2D wall contour
toroidally in steps.</p>
<p>3D wall model allows estimating the wall loads, but keep in mind that
smaller triangles means more markers are required in simulation to gain
sufficient statistics. On the other hand, too coarse model means that
important details on wall load distribution could be missed.</p>
<p>This wall doesn’t have to form a closed “waterproof” structure, and one
can use this to model FILD.</p>
<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newWall</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.append" title="Link to this definition"></a></dt>
<dd><p>Returns the wall with newWall[“x1x2x3], newWall[“y1y2y3”], newWall[“z1z2z3”], newWall[“flag”] to the existing triangles.
If data=None (or not given) reads the old triangles from file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.convert_wall_2D">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">convert_wall_2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nphi</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.convert_wall_2D" title="Link to this definition"></a></dt>
<dd><p>Convert <a class="reference internal" href="#a5py.ascot5io.wall.wall_2D" title="a5py.ascot5io.wall.wall_2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">wall_2D</span></code></a> input to <a class="reference internal" href="#a5py.ascot5io.wall.wall_3D" title="a5py.ascot5io.wall.wall_3D"><code class="xref py py-class docutils literal notranslate"><span class="pre">wall_3D</span></code></a> input.</p>
<p>This function repeats the 2D wall contour around the torus at intervals
Delta phi = 2 pi / (nphi - 1). Then each (R, z) point is connected to a
equivalent point in the adjacent contours by a line segment forming 3D
wall made of rectangles. Finally each rectangle is divided into two
triangles.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>nphi</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>Number of toroidal segments to be created.</p>
</dd>
<dt><strong>**kwargs</strong></dt><dd><p>Arguments passed to <a class="reference internal" href="#a5py.ascot5io.wall.wall_2D.write_hdf5" title="a5py.ascot5io.wall.wall_2D.write_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wall_2D.write_hdf5()</span></code></a> excluding <code class="docutils literal notranslate"><span class="pre">fn</span></code> and
<code class="docutils literal notranslate"><span class="pre">desc</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>out</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p><a class="reference internal" href="#a5py.ascot5io.wall.wall_2D" title="a5py.ascot5io.wall.wall_2D"><code class="xref py py-class docutils literal notranslate"><span class="pre">wall_2D</span></code></a> converted as an input for <a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.write_hdf5" title="a5py.ascot5io.wall.wall_3D.write_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write_hdf5()</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.getwallcontour">
<span class="sig-name descname"><span class="pre">getwallcontour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">unyt_quantity(0,</span> <span class="pre">'degree')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.getwallcontour" title="Link to this definition"></a></dt>
<dd><p>Return a cross section of the wall with a given poloidal plane.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>phi</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">float</span></code></a></span></dt><dd><p>Toroidal angle of the plane.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>lines</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (n,2,2)</span></dt><dd><p>Line segments [[[r1,z1], [r2,z2]], …] that form the cross section.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.move_component">
<span class="sig-name descname"><span class="pre">move_component</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">movement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">component</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.move_component" title="Link to this definition"></a></dt>
<dd><p>&#64;Params:
filename    Filename where the wall will be saved.
movement    How much the component is moved in metres
direction    Which direction the component is moved [x, y, z]
component     Bool array of the points of a component
wall         Wall object where the wall is copied from, if left empty active 
wall from filename will be used</p>
<p>&#64;return the new wall data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.noderepresentation">
<span class="sig-name descname"><span class="pre">noderepresentation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.noderepresentation" title="Link to this definition"></a></dt>
<dd><p>Return an array of vertices and indices that define this wall.</p>
<dl class="simple">
<dt>Returns:</dt><dd><dl class="simple">
<dt>vertices<span class="classifier">float, array_like &lt;br&gt;</span></dt><dd><p>Triangle vertices in a format [[x1, y1, z1], …, [xn, yn, zn]]
where n is 3 x number of triangles.</p>
</dd>
<dt>faces<span class="classifier">int, array_like &lt;br&gt;</span></dt><dd><p>Array of dimension (number of triangles, 4) where each four
length array defines a wall elemenet as [number of vertices, i1,
i2, i3] where number of vertices is always 3 and i1, i2, and i3
define the indices of the vertices in the vertices array.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.read" title="Link to this definition"></a></dt>
<dd><p>Read data from HDF5 file.</p>
<dl class="field-list">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">dict</span></code></a></span></dt><dd><p>Data read from HDF5 stored in the same format as is passed to
<a class="reference internal" href="#a5py.ascot5io.wall.wall_3D.write_hdf5" title="a5py.ascot5io.wall.wall_3D.write_hdf5"><code class="xref py py-meth docutils literal notranslate"><span class="pre">write_hdf5()</span></code></a>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.remove_small_triangles">
<span class="sig-name descname"><span class="pre">remove_small_triangles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maximumAreaToRemove</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.remove_small_triangles" title="Link to this definition"></a></dt>
<dd><p>The modification happens in-place. No deep copy is made!</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.set_flags">
<span class="sig-name descname"><span class="pre">set_flags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.set_flags" title="Link to this definition"></a></dt>
<dd><p>&#64;Params:
names       list of strings containing names of various flags
indexes     which flag indexes (zero indexed, last index value not included) correspond to each flag, list of tuples</p>
<dl class="simple">
<dt>example with 1000 triangles:</dt><dd><p>names   = [‘foo’,’bar’,’baz’]
indexes = [(0,10), (10,100), (100,1000)]</p>
</dd>
</dl>
<p>&#64;return the new wall data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.write_hdf5">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nelements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1x2x3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y1y2y3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z1z2z3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flagIdList</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flagIdStrings</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.write_hdf5" title="Link to this definition"></a></dt>
<dd><p>Write input data to the HDF5 file.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>fn</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Full path to the HDF5 file.</p>
</dd>
<dt><strong>nelements</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">int</span></code></a></span></dt><dd><p>Number of wall triangles</p>
</dd>
<dt><strong>x1x2x3</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,3)</span></dt><dd><p>Each triangle’s vertices’ x coordinates [m].</p>
</dd>
<dt><strong>y1y2y3</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,3)</span></dt><dd><p>Each triangle’s vertices’ y coordinates [m].</p>
</dd>
<dt><strong>z1z2z3</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,3)</span></dt><dd><p>Each triangle’s vertices’ z coordinates [m].</p>
</dd>
<dt><strong>flag</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (nelements,1), <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>Integer array depicting the wall component of each triangle.</p>
</dd>
<dt><strong>flagIdList</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">nUniqueFlags</span></code>), <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>List of keys (int) of the flagIdStrings.</p>
</dd>
<dt><strong>flagIdStrings</strong><span class="classifier"><a class="reference external" href="https://numpy.org/doc/stable/glossary.html#term-array_like" title="(in NumPy v1.26)"><span>array_like</span></a> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">nUniqueFlags</span></code>), <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>List of values (str) of the flagIdStrings.</p>
</dd>
<dt><strong>desc</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">optional</span></code></span></dt><dd><p>Input description.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>name</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name, i.e. “&lt;type&gt;_&lt;qid&gt;”, of the new input that was written.</p>
</dd>
</dl>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ValueError</span></code></a></dt><dd><p>If the triangle vertices or flags have incorrect shape.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="a5py.ascot5io.wall.wall_3D.write_hdf5_dummy">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">write_hdf5_dummy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#a5py.ascot5io.wall.wall_3D.write_hdf5_dummy" title="Link to this definition"></a></dt>
<dd><p>Write dummy data that has correct format and is valid, but can be
non-sensical.</p>
<p>This method is intended for testing purposes or to provide data whose
presence is needed but which is not actually used in simulation.</p>
<p>The dummy output consists of a single triangle on a poloidal plane.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>fn</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Full path to the HDF5 file.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>name</strong><span class="classifier"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="docutils literal notranslate"><span class="pre">str</span></code></a></span></dt><dd><p>Name, i.e. “&lt;type&gt;_&lt;qid&gt;”, of the new input that was written.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="a5py.ascot5io.marker.html" class="btn btn-neutral float-left" title="marker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="a5py.ascot5io.neutral.html" class="btn btn-neutral float-right" title="neutral" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Ascot Group.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>