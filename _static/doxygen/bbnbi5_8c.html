<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASCOT5: bbnbi5.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ASCOT5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bbnbi5.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>BBNBI5 main program.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;getopt.h&gt;</code><br />
<code>#include &lt;<a class="el" href="math_8h_source.html">math.h</a>&gt;</code><br />
<code>#include &lt;omp.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ascot5_8h_source.html">ascot5.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="consts_8h_source.html">consts.h</a>&quot;</code><br />
<code>#include &quot;gitver.h&quot;</code><br />
<code>#include &quot;<a class="el" href="hdf5__interface_8h_source.html">hdf5_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hdf5__helpers_8h_source.html">hdf5io/hdf5_helpers.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hdf5__marker_8h_source.html">hdf5io/hdf5_marker.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="print_8h_source.html">print.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="simulate_8h_source.html">simulate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="random_8h_source.html">random.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="particle_8h_source.html">particle.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="B__field_8h_source.html">B_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="plasma_8h_source.html">plasma.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="wall_8h_source.html">wall.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="nbi_8h_source.html">nbi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diag_8h_source.html">diag.h</a>&quot;</code><br />
</div>
<p><a href="bbnbi5_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a78c99ffd76a7bb3c8c74db76207e9ab4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbnbi5_8c.html#a78c99ffd76a7bb3c8c74db76207e9ab4">_XOPEN_SOURCE</a>&#160;&#160;&#160;500</td></tr>
<tr class="separator:a78c99ffd76a7bb3c8c74db76207e9ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae724b7a50b9beeb33837be13f9e84f08"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbnbi5_8c.html#ae724b7a50b9beeb33837be13f9e84f08">read_arguments</a> (int argc, char **argv, <a class="el" href="structsim__offload__data.html">sim_offload_data</a> *sim, int *nprt, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *t1, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *t2, int *writemarker)</td></tr>
<tr class="memdesc:ae724b7a50b9beeb33837be13f9e84f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read command line arguments.  <a href="bbnbi5_8c.html#ae724b7a50b9beeb33837be13f9e84f08">More...</a><br /></td></tr>
<tr class="separator:ae724b7a50b9beeb33837be13f9e84f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bbnbi5_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function for BBNBI5.  <a href="bbnbi5_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>BBNBI5 main program. </p>
<p>BBNBI5 models neutral beam injectors and is used to evaluate shine-through and beam birth-profile. Neutral markers are generated from injector geometry and traced until they ionize or hit the wall. Several injectors can be modelled simultaneously keeping in mind that in this case the output the injector from which a particle originated is lost. </p>

<p class="definition">Definition in file <a class="el" href="bbnbi5_8c_source.html">bbnbi5.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a78c99ffd76a7bb3c8c74db76207e9ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c99ffd76a7bb3c8c74db76207e9ab4">&#9670;&nbsp;</a></span>_XOPEN_SOURCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define _XOPEN_SOURCE&#160;&#160;&#160;500</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>drand48 requires POSIX 1995 standard </p>

<p class="definition">Definition at line <a class="el" href="bbnbi5_8c_source.html#l00011">11</a> of file <a class="el" href="bbnbi5_8c_source.html">bbnbi5.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae724b7a50b9beeb33837be13f9e84f08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae724b7a50b9beeb33837be13f9e84f08">&#9670;&nbsp;</a></span>read_arguments()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_arguments </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structsim__offload__data.html">sim_offload_data</a> *&#160;</td>
          <td class="paramname"><em>sim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nprt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>t1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>t2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>writemarker</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read command line arguments. </p>
<p>Read in command line arguments, input and output names and mpi parameters are stored in sim structure as with ascot5, number of markers is passed as an argument.</p>
<p>If the arguments could not be parsed, this function returns a non-zero exit value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>argument count as given to <a class="el" href="bbnbi5_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main function for BBNBI5.">main()</a> </td></tr>
    <tr><td class="paramname">argv</td><td>argument vector as given to <a class="el" href="bbnbi5_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main function for BBNBI5.">main()</a> </td></tr>
    <tr><td class="paramname">sim</td><td>pointer to offload data struct </td></tr>
    <tr><td class="paramname">nprt</td><td>pointer to integer where number of markers is stored </td></tr>
    <tr><td class="paramname">t1</td><td>pointer to store beginning of time interval </td></tr>
    <tr><td class="paramname">t2</td><td>pointer to store end of the time interval </td></tr>
    <tr><td class="paramname">writemarker</td><td>pointer to flag indicating whether a marker input is created</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero if success </dd></dl>

<p class="definition">Definition at line <a class="el" href="bbnbi5_8c_source.html#l00239">239</a> of file <a class="el" href="bbnbi5_8c_source.html">bbnbi5.c</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function for BBNBI5. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>argument count of the command line arguments </td></tr>
    <tr><td class="paramname">argv</td><td>argument vector of the command line arguments</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero if simulation was completed </dd></dl>

<p class="definition">Definition at line <a class="el" href="bbnbi5_8c_source.html#l00049">49</a> of file <a class="el" href="bbnbi5_8c_source.html">bbnbi5.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 3 2023 12:32:41 for ASCOT5 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
