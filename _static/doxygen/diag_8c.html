<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASCOT5: diag.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ASCOT5
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">diag.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface for simulation diagnostics.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ascot5_8h_source.html">ascot5.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="simulate_8h_source.html">simulate.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="B__field_8h_source.html">B_field.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diag_8h_source.html">diag.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diag__orb_8h_source.html">diag/diag_orb.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dist__5D_8h_source.html">diag/dist_5D.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dist__6D_8h_source.html">diag/dist_6D.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dist__rho5D_8h_source.html">diag/dist_rho5D.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dist__rho6D_8h_source.html">diag/dist_rho6D.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dist__com_8h_source.html">diag/dist_com.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="diag__transcoef_8h_source.html">diag/diag_transcoef.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="particle_8h_source.html">particle.h</a>&quot;</code><br />
</div>
<p><a href="diag_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e32721111ea1dc5d2692b17f90802c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a8e32721111ea1dc5d2692b17f90802c0">diag_arraysum</a> (int start, int stop, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *array1, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *array2)</td></tr>
<tr class="memdesc:a8e32721111ea1dc5d2692b17f90802c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple helper function for summing elements of two arrays of same size.  <a href="diag_8c.html#a8e32721111ea1dc5d2692b17f90802c0">More...</a><br /></td></tr>
<tr class="separator:a8e32721111ea1dc5d2692b17f90802c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4570a476d5bb4349ef4baa45b47e8847"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a4570a476d5bb4349ef4baa45b47e8847">diag_init_offload</a> (<a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *data, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> **offload_array, int Nmrk)</td></tr>
<tr class="memdesc:a4570a476d5bb4349ef4baa45b47e8847"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes offload array from offload data.  <a href="diag_8c.html#a4570a476d5bb4349ef4baa45b47e8847">More...</a><br /></td></tr>
<tr class="separator:a4570a476d5bb4349ef4baa45b47e8847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b90c421f536fac0c72366c6ca4d1e76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a3b90c421f536fac0c72366c6ca4d1e76">diag_free_offload</a> (<a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *data, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> **offload_array)</td></tr>
<tr class="memdesc:a3b90c421f536fac0c72366c6ca4d1e76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees the offload array.  <a href="diag_8c.html#a3b90c421f536fac0c72366c6ca4d1e76">More...</a><br /></td></tr>
<tr class="separator:a3b90c421f536fac0c72366c6ca4d1e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73089778ca8720e87c651a4dd07c01f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a73089778ca8720e87c651a4dd07c01f0">diag_init</a> (<a class="el" href="structdiag__data.html">diag_data</a> *data, <a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *offload_data, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *offload_array)</td></tr>
<tr class="memdesc:a73089778ca8720e87c651a4dd07c01f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes diagnostics from offload data.  <a href="diag_8c.html#a73089778ca8720e87c651a4dd07c01f0">More...</a><br /></td></tr>
<tr class="separator:a73089778ca8720e87c651a4dd07c01f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc5ab98500383d3197d6388ad316fd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#addc5ab98500383d3197d6388ad316fd4">diag_free</a> (<a class="el" href="structdiag__data.html">diag_data</a> *data)</td></tr>
<tr class="memdesc:addc5ab98500383d3197d6388ad316fd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free diagnostics data.  <a href="diag_8c.html#addc5ab98500383d3197d6388ad316fd4">More...</a><br /></td></tr>
<tr class="separator:addc5ab98500383d3197d6388ad316fd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ac8d3800297d9cff3472e5908fcb6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a04ac8d3800297d9cff3472e5908fcb6b">diag_update_fo</a> (<a class="el" href="structdiag__data.html">diag_data</a> *data, <a class="el" href="structB__field__data.html">B_field_data</a> *Bdata, <a class="el" href="structparticle__simd__fo.html">particle_simd_fo</a> *p_f, <a class="el" href="structparticle__simd__fo.html">particle_simd_fo</a> *p_i)</td></tr>
<tr class="memdesc:a04ac8d3800297d9cff3472e5908fcb6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects diagnostics when marker represents a particle.  <a href="diag_8c.html#a04ac8d3800297d9cff3472e5908fcb6b">More...</a><br /></td></tr>
<tr class="separator:a04ac8d3800297d9cff3472e5908fcb6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa85ba6c77449ad4246d57685297b6b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#afa85ba6c77449ad4246d57685297b6b5">diag_update_gc</a> (<a class="el" href="structdiag__data.html">diag_data</a> *data, <a class="el" href="structB__field__data.html">B_field_data</a> *Bdata, <a class="el" href="structparticle__simd__gc.html">particle_simd_gc</a> *p_f, <a class="el" href="structparticle__simd__gc.html">particle_simd_gc</a> *p_i)</td></tr>
<tr class="memdesc:afa85ba6c77449ad4246d57685297b6b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects diagnostics when marker represents a guiding center.  <a href="diag_8c.html#afa85ba6c77449ad4246d57685297b6b5">More...</a><br /></td></tr>
<tr class="separator:afa85ba6c77449ad4246d57685297b6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c134a61f0e1529ba5eb214989e9c34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#af2c134a61f0e1529ba5eb214989e9c34">diag_update_ml</a> (<a class="el" href="structdiag__data.html">diag_data</a> *data, <a class="el" href="structparticle__simd__ml.html">particle_simd_ml</a> *p_f, <a class="el" href="structparticle__simd__ml.html">particle_simd_ml</a> *p_i)</td></tr>
<tr class="memdesc:af2c134a61f0e1529ba5eb214989e9c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects diagnostics when marker represents a magnetic field line.  <a href="diag_8c.html#af2c134a61f0e1529ba5eb214989e9c34">More...</a><br /></td></tr>
<tr class="separator:af2c134a61f0e1529ba5eb214989e9c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a347467d2010f69e48514dfdf7003994d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="diag_8c.html#a347467d2010f69e48514dfdf7003994d">diag_sum</a> (<a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *data, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *array1, <a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *array2)</td></tr>
<tr class="memdesc:a347467d2010f69e48514dfdf7003994d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sum offload data arrays as one.  <a href="diag_8c.html#a347467d2010f69e48514dfdf7003994d">More...</a><br /></td></tr>
<tr class="separator:a347467d2010f69e48514dfdf7003994d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface for simulation diagnostics. </p>
<p>Ascot standard output consists of inistate and endstate. Any other output is generated by "diagnostics" that are updated during the simulation. All diagnostics are accessed via this interface. To implement a new diagnostics, it is enough that one add calls to that diagnostics routines here.</p>
<p>One limitation for diagnostic data is that the size of the data must be known before simulation begins so that offloading of that data is possible. </p>

<p class="definition">Definition in file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a8e32721111ea1dc5d2692b17f90802c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e32721111ea1dc5d2692b17f90802c0">&#9670;&nbsp;</a></span>diag_arraysum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_arraysum </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>array1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>array2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple helper function for summing elements of two arrays of same size. </p>
<p>This function is indented for summing distribution ordinates. Indexing starts from 1 and indices given as arguments are inclusive.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start</td><td>index to array element where summation begins </td></tr>
    <tr><td class="paramname">stop</td><td>index to array element where summation ends </td></tr>
    <tr><td class="paramname">array1</td><td>pointer to array where array2 is summed to </td></tr>
    <tr><td class="paramname">array2</td><td>pointer to array which is to be summed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00402">402</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a4570a476d5bb4349ef4baa45b47e8847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4570a476d5bb4349ef4baa45b47e8847">&#9670;&nbsp;</a></span>diag_init_offload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int diag_init_offload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> **&#160;</td>
          <td class="paramname"><em>offload_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>Nmrk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes offload array from offload data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>diagnostics offload data </td></tr>
    <tr><td class="paramname">offload_array</td><td>pointer to offload array which is allocated here </td></tr>
    <tr><td class="paramname">Nmrk</td><td>number of markers that will be simulated</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>zero if initialization succeeded </dd></dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00040">40</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a3b90c421f536fac0c72366c6ca4d1e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b90c421f536fac0c72366c6ca4d1e76">&#9670;&nbsp;</a></span>diag_free_offload()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_free_offload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> **&#160;</td>
          <td class="paramname"><em>offload_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees the offload array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>diagnostics offload data </td></tr>
    <tr><td class="paramname">offload_array</td><td>offload array </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00140">140</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a73089778ca8720e87c651a4dd07c01f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73089778ca8720e87c651a4dd07c01f0">&#9670;&nbsp;</a></span>diag_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__data.html">diag_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *&#160;</td>
          <td class="paramname"><em>offload_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>offload_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes diagnostics from offload data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>diagnostics data </td></tr>
    <tr><td class="paramname">offload_data</td><td>diagnostics offload data </td></tr>
    <tr><td class="paramname">offload_array</td><td>offload array </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00152">152</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="addc5ab98500383d3197d6388ad316fd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc5ab98500383d3197d6388ad316fd4">&#9670;&nbsp;</a></span>diag_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__data.html">diag_data</a> *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free diagnostics data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>diagnostics data struct </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00204">204</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a04ac8d3800297d9cff3472e5908fcb6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04ac8d3800297d9cff3472e5908fcb6b">&#9670;&nbsp;</a></span>diag_update_fo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_update_fo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__data.html">diag_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structB__field__data.html">B_field_data</a> *&#160;</td>
          <td class="paramname"><em>Bdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__fo.html">particle_simd_fo</a> *&#160;</td>
          <td class="paramname"><em>p_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__fo.html">particle_simd_fo</a> *&#160;</td>
          <td class="paramname"><em>p_i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects diagnostics when marker represents a particle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>diagnostics data struct </td></tr>
    <tr><td class="paramname">Bdata</td><td>pointer to magnetic field data </td></tr>
    <tr><td class="paramname">p_f</td><td>pointer to SIMD struct storing marker states at the end of current time-step </td></tr>
    <tr><td class="paramname">p_i</td><td>pointer to SIMD struct storing marker states at the beginning of current time-step </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00223">223</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="afa85ba6c77449ad4246d57685297b6b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa85ba6c77449ad4246d57685297b6b5">&#9670;&nbsp;</a></span>diag_update_gc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_update_gc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__data.html">diag_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structB__field__data.html">B_field_data</a> *&#160;</td>
          <td class="paramname"><em>Bdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__gc.html">particle_simd_gc</a> *&#160;</td>
          <td class="paramname"><em>p_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__gc.html">particle_simd_gc</a> *&#160;</td>
          <td class="paramname"><em>p_i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects diagnostics when marker represents a guiding center. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to diagnostics data struct </td></tr>
    <tr><td class="paramname">Bdata</td><td>pointer to magnetic field data </td></tr>
    <tr><td class="paramname">p_f</td><td>pointer to SIMD struct storing marker states at the end of current time-step </td></tr>
    <tr><td class="paramname">p_i</td><td>pointer to SIMD struct storing marker states at the beginning of current time-step </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00264">264</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="af2c134a61f0e1529ba5eb214989e9c34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2c134a61f0e1529ba5eb214989e9c34">&#9670;&nbsp;</a></span>diag_update_ml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_update_ml </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__data.html">diag_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__ml.html">particle_simd_ml</a> *&#160;</td>
          <td class="paramname"><em>p_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structparticle__simd__ml.html">particle_simd_ml</a> *&#160;</td>
          <td class="paramname"><em>p_i</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects diagnostics when marker represents a magnetic field line. </p>
<p>Distributions are not updated for magnetic field lines.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to diagnostics data struct </td></tr>
    <tr><td class="paramname">p_f</td><td>pointer to SIMD struct storing marker states at the end of current time-step </td></tr>
    <tr><td class="paramname">p_i</td><td>pointer to SIMD struct storing marker states at the beginning of current time-step </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00306">306</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
<a id="a347467d2010f69e48514dfdf7003994d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a347467d2010f69e48514dfdf7003994d">&#9670;&nbsp;</a></span>diag_sum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void diag_sum </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structdiag__offload__data.html">diag_offload_data</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>array1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ascot5_8h.html#a11d147c64891830c9e79b3315b1b2e21">real</a> *&#160;</td>
          <td class="paramname"><em>array2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sum offload data arrays as one. </p>
<p>The data in both arrays have identical order so distributions can be summed trivially. For orbits and transport coefficients the first array already have space for appending the orbit data from the second array, so we only need to move those elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to diagnostics data struct </td></tr>
    <tr><td class="paramname">array1</td><td>the array to which array2 is summed </td></tr>
    <tr><td class="paramname">array2</td><td>the array which is to be summed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="diag_8c_source.html#l00329">329</a> of file <a class="el" href="diag_8c_source.html">diag.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 3 2023 12:32:41 for ASCOT5 by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
